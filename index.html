<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Evertale Optimizer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="topbar">
    <h1>Evertale Optimizer</h1>

    <div class="tabs">
      <button class="tab active" data-tab="roster">Roster</button>
      <button class="tab" data-tab="story">Story Team</button>
      <button class="tab" data-tab="platoons">Platoons</button>
      <button class="tab" data-tab="optimizer">Optimizer</button>
    </div>
  </header>

  <!-- ROSTER -->
  <section id="roster" class="tab-content active">
    <div class="filters">
      <input id="search" placeholder="Search unit name…" />

      <select id="filterElement"></select>

      <select id="filterRarity">
        <option value="">All Rarity</option>
        <option value="5">SSR</option>
        <option value="4">SR</option>
        <option value="3">R</option>
      </select>

      <select id="filterWeapon"></select>

      <select id="sortBy">
        <option value="atk">Sort by ATK</option>
        <option value="hp">Sort by HP</option>
        <option value="spd">Sort by SPD</option>
        <option value="rarity">Sort by Rarity</option>
        <option value="name">Sort by Name</option>
      </select>
    </div>

    <div id="rosterGrid" class="grid"></div>
  </section>

  <!-- STORY TEAM -->
  <section id="story" class="tab-content">
    <h2>Story Team (8 Units)</h2>
    <div id="storyTeam" class="teamGrid"></div>
  </section>

  <!-- PLATOONS -->
  <section id="platoons" class="tab-content">
    <h2>Platoons (20 × 5)</h2>
    <div id="platoonList"></div>
  </section>

  <!-- OPTIMIZER -->
  <section id="optimizer" class="tab-content">
    <h2>Team Optimizer</h2>

    <div class="optimizerControls">
      <select id="mode">
        <option value="PVE">PVE</option>
        <option value="PVP">PVP</option>
        <option value="BOSS">Boss</option>
        <option value="STORY">Story</option>
      </select>

      <select id="teamSize">
        <option value="5">5 Units</option>
        <option value="8">8 Units</option>
      </select>

      <button class="btn primary" onclick="optimize()">Optimize</button>
    </div>

    <div id="results" class="results"></div>
  </section>

  <!-- UNIT DETAIL MODAL -->
  <div id="unitModal" class="modalOverlay" aria-hidden="true">
    <div class="modalCard">
      <div class="modalHeader">
        <div>
          <div id="unitModalTitle" class="modalTitle"></div>
          <div id="unitModalSubtitle" class="modalSubtitle"></div>
        </div>
        <button id="unitModalClose" class="iconBtn">✕</button>
      </div>

      <div class="modalBody">
        <div id="unitModalBadges" class="modalBadges"></div>

        <div class="modalGrid">
          <div class="modalStat"><span>Cost</span><b id="unitModalCost"></b></div>
          <div class="modalStat"><span>ATK</span><b id="unitModalAtk"></b></div>
          <div class="modalStat"><span>HP</span><b id="unitModalHp"></b></div>
          <div class="modalStat"><span>SPD</span><b id="unitModalSpd"></b></div>
        </div>

        <div class="modalSection">
          <div class="modalSectionTitle">Leader Skill</div>
          <div id="unitModalLeader" class="modalText"></div>
        </div>

        <div class="modalSection">
          <div class="modalSectionTitle">Active Skills</div>
          <ul id="unitModalActive" class="modalList"></ul>
        </div>

        <div class="modalSection">
          <div class="modalSectionTitle">Passive Skills</div>
          <ul id="unitModalPassive" class="modalList"></ul>
        </div>
      </div>

      <div class="modalFooter">
        <button id="unitModalAddStory" class="btn primary">Add to Story Team</button>
        <button id="unitModalClose2" class="btn">Close</button>
      </div>
    </div>
  </div>

  <!-- IMPORTANT: this MUST be here -->
  <script src="app.js"></script>
</body>
</html>
